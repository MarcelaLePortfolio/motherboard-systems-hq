{
  "version": 3,
  "sources": ["js/sse-heartbeat-shim.js", "js/heartbeat-stale-indicator.js", "js/dashboard-status.js", "js/agent-status-row.js", "js/dashboard-broadcast.js", "js/ops-status-widget.js", "js/ops-globals-bridge.js", "js/ops-pill-state.js", "js/dashboard-tasks-widget.js", "js/matilda-chat-console.js", "js/dashboard-bundle-entry.js"],
  "sourcesContent": ["/**\n * Phase 16 \u2013 Shared Heartbeat Bus (OPS + Tasks)\n *\n * Wrap EventSource so connection + any SSE message updates a normalized heartbeat store.\n *\n * Exposes:\n *   window.__HB = { record(kind, ts), get(kind), snapshot() }\n *\n * kind: \"ops\" | \"tasks\" | \"reflections\" | \"unknown\"\n */\n(function () {\n  const w = window;\n\n  const STORE_KEY = \"__HB\";\n  if (!w[STORE_KEY]) {\n    const state = { ops: null, tasks: null, reflections: null, unknown: null };\n    w[STORE_KEY] = {\n      record(kind, ts) {\n        const k = Object.prototype.hasOwnProperty.call(state, kind) ? kind : \"unknown\";\n        state[k] = typeof ts === \"number\" ? ts : Date.now();\n        return state[k];\n      },\n      get(kind) {\n        const k = Object.prototype.hasOwnProperty.call(state, kind) ? kind : \"unknown\";\n        return state[k];\n      },\n      snapshot() {\n        return { ...state };\n      },\n    };\n  }\n\n  const NativeEventSource = w.EventSource;\n  if (!NativeEventSource || NativeEventSource.__hbWrapped) return;\n\n  function classify(url) {\n    const u = String(url || \"\");\n    if (u.includes(\"/events/ops\")) return \"ops\";\n    if (u.includes(\"/events/tasks\")) return \"tasks\";\n    if (u.includes(\"/events/reflections\")) return \"reflections\";\n    return \"unknown\";\n  }\n\n  function HeartbeatEventSource(url, eventSourceInitDict) {\n    const kind = classify(url);\n\n    // Record immediately on connection attempt so \"connected but quiet\" still looks alive.\n    try { w[STORE_KEY].record(kind, Date.now()); } catch (_) {}\n\n    const es = new NativeEventSource(url, eventSourceInitDict);\n\n    const update = () => {\n      try { w[STORE_KEY].record(kind, Date.now()); } catch (_) {}\n    };\n\n    // Update heartbeat when the connection opens (most reliable for \"alive\").\n    try { es.addEventListener(\"open\", update); } catch (_) {}\n\n    // Update heartbeat on any message for this stream.\n    try { es.addEventListener(\"message\", update); } catch (_) {}\n\n    // Also wrap onmessage if assigned later.\n    let _onmessage = null;\n    Object.defineProperty(es, \"onmessage\", {\n      get() { return _onmessage; },\n      set(fn) {\n        _onmessage = function (ev) {\n          update();\n          if (typeof fn === \"function\") return fn.call(es, ev);\n        };\n      },\n      configurable: true,\n    });\n\n    // Update heartbeat when errors occur too (helps show \"something happened\" vs silence).\n    try { es.addEventListener(\"error\", update); } catch (_) {}\n\n    return es;\n  }\n\n  HeartbeatEventSource.prototype = NativeEventSource.prototype;\n  HeartbeatEventSource.__hbWrapped = true;\n\n  w.EventSource = HeartbeatEventSource;\n})();\n", "/**\n * Phase 16 \u2013 Heartbeat stale-state indicator (non-intrusive)\n *\n * Reads window.__HB (from sse-heartbeat-shim) and updates a tiny badge.\n * - Adds a badge to the top-right corner of the dashboard.\n * - Shows OK when both OPS+Tasks have recent heartbeats.\n * - Shows STALE when either stream is missing or old.\n *\n * No coupling to widget internals. Safe to remove.\n */\n(function () {\n  const w = window;\n  const HB = w.__HB;\n\n  function now() {\n    return Date.now();\n  }\n\n  function ms(n) {\n    return Math.max(0, Number(n) || 0);\n  }\n\n  // Consider heartbeats stale after this many ms.\n  const STALE_MS = 15000;\n\n  function fmtAge(ts) {\n    if (!ts) return \"\u2014\";\n    const s = Math.floor((now() - ts) / 1000);\n    return s <= 0 ? \"0s\" : `${s}s`;\n  }\n\n  function ensureBadge() {\n    let el = document.getElementById(\"hb-badge\");\n    if (el) return el;\n\n    el = document.createElement(\"div\");\n    el.id = \"hb-badge\";\n    el.setAttribute(\"role\", \"status\");\n    el.style.position = \"fixed\";\n    el.style.top = \"12px\";\n    el.style.right = \"12px\";\n    el.style.zIndex = \"9999\";\n    el.style.fontFamily = \"ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial\";\n    el.style.fontSize = \"12px\";\n    el.style.padding = \"6px 10px\";\n    el.style.borderRadius = \"999px\";\n    el.style.border = \"1px solid rgba(255,255,255,0.14)\";\n    el.style.background = \"rgba(0,0,0,0.55)\";\n    el.style.backdropFilter = \"blur(6px)\";\n    el.style.webkitBackdropFilter = \"blur(6px)\";\n    el.style.color = \"rgba(255,255,255,0.92)\";\n    el.style.boxShadow = \"0 8px 18px rgba(0,0,0,0.35)\";\n    el.style.userSelect = \"none\";\n    el.style.cursor = \"default\";\n    document.body.appendChild(el);\n    return el;\n  }\n\n  function setState(el, ok) {\n    // No colors specified by instruction in other contexts; keep neutral text-only signal.\n    // We\u2019ll use symbols instead of colored fills.\n    el.textContent = ok\n      ? `HB \u2713 (ops ${fmtAge(HB && HB.get(\"ops\"))}, tasks ${fmtAge(HB && HB.get(\"tasks\"))})`\n      : `HB ! (ops ${fmtAge(HB && HB.get(\"ops\"))}, tasks ${fmtAge(HB && HB.get(\"tasks\"))})`;\n  }\n\n  function tick() {\n    const el = ensureBadge();\n\n    if (!HB || typeof HB.get !== \"function\") {\n      el.textContent = \"HB ? (shim not loaded)\";\n      return;\n    }\n\n    const ops = HB.get(\"ops\");\n    const tasks = HB.get(\"tasks\");\n\n    const opsOk = !!ops && ms(now() - ops) <= STALE_MS;\n    const tasksOk = !!tasks && ms(now() - tasks) <= STALE_MS;\n\n    setState(el, opsOk && tasksOk);\n  }\n\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      tick();\n      setInterval(tick, 1000);\n    });\n  } else {\n    tick();\n    setInterval(tick, 1000);\n  }\n})();\n", "// <0001fb01> Dashboard Status \u2013 OPS + Reflections SSE wiring\n// - Connects to Python OPS SSE (port 3201) and Reflections SSE (port 3200)\n// - Updates uptime, health, metrics, ops alerts, and reflections panel\n\nexport function initDashboardStatus() {  \n  const __DISABLE_OPTIONAL_SSE = (typeof window !== \"undefined\" && window.__DISABLE_OPTIONAL_SSE) === true;\n  if (__DISABLE_OPTIONAL_SSE) {\n    console.warn(\"[dashboard-status] Optional SSE disabled (Phase 16 pending)\");\n    return;\n  }\n\nif (typeof window === \"undefined\" || typeof document === \"undefined\") return;\n  if (window.__dashboardStatusInited) return;\n  window.__dashboardStatusInited = true;\n\n  const OPS_SSE_URL = `/events/ops`;\n  const REFLECTIONS_SSE_URL = `/events/reflections`;\n\n  // Core elements\n  const uptimeDisplay = document.getElementById(\"uptime-display\");\n  const healthIndicator = document.getElementById(\"system-health-indicator\");\n  const healthStatus = document.getElementById(\"health-status\");\n\n  const metricAgents = document.getElementById(\"metric-agents\");\n  const metricTasks = document.getElementById(\"metric-tasks\");\n  const metricSuccessRate = document.getElementById(\"metric-success-rate\");\n  const metricLatency = document.getElementById(\"metric-latency\");\n\n  const reflectionsContainer = document.getElementById(\"recentLogs\");\n  const opsAlertsList = document.getElementById(\"ops-alerts-list\");\n\n  const pageStart = Date.now();\n  const agentStatusMap = {}; // agentName -> lastStatus\n\n  let totalOpsEvents = 0;\n  let successfulOpsEvents = 0;\n  let errorOpsEvents = 0;\n\n  // --- 1) Uptime updater ---\n  function formatDuration(seconds) {\n    const s = seconds % 60;\n    const m = Math.floor(seconds / 60) % 60;\n    const h = Math.floor(seconds / 3600);\n    if (h > 0) return `${h}h ${m}m ${s}s`;\n    if (m > 0) return `${m}m ${s}s`;\n    return `${s}s`;\n  }\n\n  function tickUptime() {\n    if (!uptimeDisplay) return;\n    const diffSec = Math.floor((Date.now() - pageStart) / 1000);\n    uptimeDisplay.textContent = formatDuration(diffSec);\n  }\n\n  tickUptime();\n  setInterval(tickUptime, 1000);\n\n  // --- 2) Health classification helpers ---\n  function classifyHealthFromStatus(statusString) {\n    const s = (statusString || \"\").toLowerCase();\n    if (!s) return \"degraded\";\n\n    if (s.includes(\"error\") || s.includes(\"failed\") || s.includes(\"critical\")) {\n      return \"critical\";\n    }\n    if (s.includes(\"warn\") || s.includes(\"degraded\")) {\n      return \"degraded\";\n    }\n    if (s.includes(\"ok\") || s.includes(\"online\") || s.includes(\"ready\") || s.includes(\"healthy\")) {\n      return \"healthy\";\n    }\n    return \"degraded\";\n  }\n\n  function applyHealthVisual(healthState) {\n    if (!healthIndicator || !healthStatus) return;\n\n    healthIndicator.classList.remove(\"bg-red-500\", \"bg-yellow-400\", \"bg-green-400\");\n    healthIndicator.classList.remove(\"animate-pulse\");\n\n    switch (healthState) {\n      case \"healthy\":\n        healthIndicator.classList.add(\"bg-green-400\");\n        healthStatus.textContent = \"Stable\";\n        break;\n      case \"critical\":\n        healthIndicator.classList.add(\"bg-red-500\", \"animate-pulse\");\n        healthStatus.textContent = \"Critical\";\n        break;\n      case \"degraded\":\n      default:\n        healthIndicator.classList.add(\"bg-yellow-400\");\n        healthStatus.textContent = \"Degraded\";\n        break;\n    }\n  }\n\n  // Initialize health view\n  applyHealthVisual(\"degraded\");\n\n  // --- 3) OPS SSE: metrics + alerts ---\n  let opsSource;\n  try {\n    opsSource = new EventSource(OPS_SSE_URL);\n  } catch (err) {\n    console.error(\"dashboard-status.js: Failed to open OPS SSE connection:\", err);\n    return;\n  }\n\n  opsSource.onmessage = (event) => {\n    let payloadRaw = event.data;\n    let data = null;\n\n    try {\n      data = JSON.parse(payloadRaw);\n    } catch {\n      data = { message: payloadRaw };\n    }\n\n    totalOpsEvents++;\n\n    const agentName =\n      (data.agent || data.actor || data.source || data.worker || \"\").toString();\n    const statusString =\n      (data.status || data.state || data.level || \"\").toString();\n    const message =\n      data.message ||\n      data.event ||\n      data.description ||\n      data.type ||\n      payloadRaw;\n\n    if (agentName) {\n      agentStatusMap[agentName] = statusString || \"unknown\";\n    }\n\n    // Active agents metric\n    if (metricAgents) {\n      const uniqueAgents = Object.keys(agentStatusMap).length;\n      metricAgents.textContent = String(uniqueAgents || \"--\");\n    }\n\n    // Tasks metric (approx: count of OPS events)\n    if (metricTasks) {\n      metricTasks.textContent = String(totalOpsEvents);\n    }\n\n    // Latency metric (if present)\n    if (metricLatency && typeof data.latency_ms === \"number\") {\n      metricLatency.textContent = String(Math.round(data.latency_ms));\n    }\n\n    // Success rate metric\n    const statusLower = statusString.toLowerCase();\n    if (statusLower.includes(\"success\") || statusLower.includes(\"completed\") || statusLower.includes(\"ok\")) {\n      successfulOpsEvents++;\n    } else if (statusLower.includes(\"error\") || statusLower.includes(\"failed\")) {\n      errorOpsEvents++;\n    }\n\n    if (metricSuccessRate) {\n      const denom = successfulOpsEvents + errorOpsEvents;\n      if (denom > 0) {\n        const pct = Math.round((successfulOpsEvents / denom) * 100);\n        metricSuccessRate.textContent = `${pct}%`;\n      } else {\n        metricSuccessRate.textContent = \"--\";\n      }\n    }\n\n    // Health from status\n    const healthState = classifyHealthFromStatus(statusString);\n    applyHealthVisual(healthState);\n\n    // Ops alerts list\n    if (opsAlertsList) {\n      const li = document.createElement(\"li\");\n      li.className = \"text-sm\";\n\n      const now = new Date();\n      const ts = now.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n      });\n\n      const safeAgent = agentName || \"System\";\n      const labelParts = [`[${ts}]`, safeAgent];\n\n      if (statusString) labelParts.push(`\u2013 ${statusString}`);\n      if (message && message !== statusString) {\n        labelParts.push(`\u2013 ${String(message).slice(0, 160)}`);\n      }\n\n      li.textContent = labelParts.join(\" \");\n      opsAlertsList.prepend(li);\n\n      // keep list from growing unbounded\n      while (opsAlertsList.children.length > 50) {\n        opsAlertsList.removeChild(opsAlertsList.lastChild);\n      }\n    }\n  };\n\n  opsSource.onerror = (err) => {\n    console.warn(\"dashboard-status.js: OPS SSE error:\", err);\n    applyHealthVisual(\"degraded\");\n\n    if (opsAlertsList) {\n      const li = document.createElement(\"li\");\n      li.className = \"text-sm text-red-400\";\n      li.textContent = \"[OPS] SSE connection error \u2013 attempting to recover\u2026\";\n      opsAlertsList.prepend(li);\n\n      while (opsAlertsList.children.length > 50) {\n        opsAlertsList.removeChild(opsAlertsList.lastChild);\n      }\n    }\n  };\n\n  // --- 4) Reflections SSE: #recentLogs ---\n  let reflectionsSource;\n  try {\n    console.log(\"[dashboard-status] opening Reflections SSE:\", REFLECTIONS_SSE_URL);\n    reflectionsSource = new EventSource(REFLECTIONS_SSE_URL);\n  } catch (err) {\n    console.error(\"dashboard-status.js: Failed to open Reflections SSE connection:\", err);\n    return;\n  }\n\n  reflectionsSource.onmessage = (event) => {\n      console.log(\"[dashboard-status] reflections onmessage:\", event.data);\n    if (!reflectionsContainer) return;\n\n    const raw = event.data;\n    let text = raw;\n\n    try {\n      const parsed = JSON.parse(raw);\n      text =\n        parsed.message ||\n        parsed.reflection ||\n        parsed.text ||\n        parsed.log ||\n        raw;\n    } catch {\n      // plain text is fine\n    }\n\n    const entry = document.createElement(\"div\");\n    entry.className =\n      \"text-sm text-gray-200 border-b border-gray-700 pb-2 mb-2 whitespace-pre-line\";\n    entry.textContent = text;\n\n    reflectionsContainer.prepend(entry);\n\n    // keep reflections list bounded\n    while (reflectionsContainer.children.length > 50) {\n      reflectionsContainer.removeChild(reflectionsContainer.lastChild);\n    }\n  };\n\n  reflectionsSource.onerror = (err) => {\n    console.warn(\"dashboard-status.js: Reflections SSE error:\", err);\n    if (!reflectionsContainer) return;\n\n    const entry = document.createElement(\"div\");\n    entry.className = \"text-xs text-red-400 italic\";\n    entry.textContent =\n      \"[Reflections] SSE connection error \u2013 check Python reflections_stream on port 3200.\";\n    reflectionsContainer.prepend(entry);\n\n    while (reflectionsContainer.children.length > 50) {\n      reflectionsContainer.removeChild(reflectionsContainer.lastChild);\n    }\n  };\n}\n\nif (typeof window !== \"undefined\") {\n  window.initDashboardStatus = initDashboardStatus;\n\n// Auto-init when loaded via bundle entry\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", () => initDashboardStatus());\n  } else {\n    initDashboardStatus();\n  }\n}\n}\n", "// <0001fb02> Agent Status Row \u2013 live heartbeats from OPS SSE\n// - Renders status pills for Matilda, Cade, Effie, Atlas\n// - Listens to OPS SSE on port 3201\n// - Updates colors/text based on incoming status\n\n(() => {\n  const container = document.getElementById(\"agent-status-container\");\n  if (!container) {\n    console.warn(\"agent-status-row.js: #agent-status-container not found.\");\n    return;\n  }\n\n  // Clear placeholder text (e.g., \"Loading agents...\")\n  container.innerHTML = \"\";\n\n  const AGENTS = [\"Matilda\", \"Cade\", \"Effie\", \"Atlas\"];\n  const indicators = {};\n\n  const row = document.createElement(\"div\");\n  row.className = \"flex flex-wrap gap-4 items-center\";\n  container.appendChild(row);\n\n  AGENTS.forEach((name) => {\n    const pill = document.createElement(\"div\");\n    pill.className =\n      \"px-3 py-1 rounded-full bg-gray-700 text-sm flex items-center gap-2 shadow\";\n\n    const dot = document.createElement(\"span\");\n    dot.className = \"w-2 h-2 rounded-full bg-yellow-400\";\n\n    const label = document.createElement(\"span\");\n    label.textContent = `${name}: \u23F3`;\n\n    pill.dataset.agent = name.toLowerCase();\n    pill.append(dot, label);\n    row.appendChild(pill);\n\n    indicators[name.toLowerCase()] = { pill, dot, label };\n  });\n\n  const OPS_SSE_URL = `/events/ops`;\n  \n\n  const __DISABLE_OPTIONAL_SSE = (typeof window !== \"undefined\" && window.__DISABLE_OPTIONAL_SSE) === true;\n  if (__DISABLE_OPTIONAL_SSE) {\n    console.warn(\"[agent-status-row] Optional SSE disabled (Phase 16 pending):\", OPS_SSE_URL);\n    Object.keys(indicators).forEach((key) => applyVisual(key, \"unknown\"));\n    return;\n  }\nlet source;\n\n  try {\n    source = new EventSource(OPS_SSE_URL);\n  } catch (err) {\n    console.error(\"agent-status-row.js: Failed to open OPS SSE connection:\", err);\n    return;\n  }\n\n  function classifyStatus(statusString) {\n    const s = (statusString || \"\").toLowerCase();\n    if (!s) return \"unknown\";\n    if (s.includes(\"error\") || s.includes(\"failed\") || s.includes(\"offline\")) {\n      return \"error\";\n    }\n    if (s.includes(\"online\") || s.includes(\"ready\") || s.includes(\"ok\")) {\n      return \"online\";\n    }\n    if (s.includes(\"queued\") || s.includes(\"pending\") || s.includes(\"init\")) {\n      return \"pending\";\n    }\n    return \"unknown\";\n  }\n\n  function applyVisual(agentKey, statusString) {\n    const indicator = indicators[agentKey];\n    if (!indicator) return;\n\n    const kind = classifyStatus(statusString);\n    const { pill, dot, label } = indicator;\n\n    // Reset base classes\n    dot.className = \"w-2 h-2 rounded-full\";\n    pill.classList.remove(\"border\", \"border-red-400\", \"border-green-400\", \"border-yellow-300\");\n\n    switch (kind) {\n      case \"online\":\n        dot.classList.add(\"bg-green-400\");\n        pill.classList.add(\"border\", \"border-green-400\");\n        break;\n      case \"error\":\n        dot.classList.add(\"bg-red-400\");\n        pill.classList.add(\"border\", \"border-red-400\");\n        break;\n      case \"pending\":\n        dot.classList.add(\"bg-yellow-300\");\n        pill.classList.add(\"border\", \"border-yellow-300\");\n        break;\n      case \"unknown\":\n      default:\n        dot.classList.add(\"bg-gray-500\");\n        break;\n    }\n\n    const prettyName = agentKey.charAt(0).toUpperCase() + agentKey.slice(1);\n    const finalStatus = statusString || \"unknown\";\n    label.textContent = `${prettyName}: ${finalStatus}`;\n  }\n\n  source.onmessage = (event) => {\n    let payloadRaw = event.data;\n    let data;\n\n    try {\n      data = JSON.parse(payloadRaw);\n    } catch {\n      // If it's not JSON, ignore for agent-status purposes\n      return;\n    }\n\n    const agentName =\n      (data.agent || data.actor || data.source || data.worker || \"\").toString();\n    if (!agentName) return;\n\n    const key = agentName.toLowerCase();\n    if (!indicators[key]) {\n      // Ignore agents we don't show in the row\n      return;\n    }\n\n    const status = (data.status || data.state || data.level || \"\").toString() || \"unknown\";\n    applyVisual(key, status);\n  };\n\n  source.onerror = (err) => {\n    console.warn(\"agent-status-row.js: OPS SSE error:\", err);\n    // On error, show all as unknown (neutral gray)\n    Object.keys(indicators).forEach((key) => applyVisual(key, \"unknown\"));\n  };\n})();\n", "// <0001fad7> Phase 5.1 \u2014 Matilda \u2192 Cade \u2192 Effie Broadcast Visualization\n// Wrapped in a guarded init() so we don't create duplicate intervals on reload.\n\nconst BROADCAST_GUARD_KEY = \"__broadcastVisualizationInited\";\n\nconst nodes = [\"Matilda\", \"Cade\", \"Effie\"];\n\nfunction renderBroadcastNodes() {\nconst container = document.getElementById(\"broadcast-visual\");\nif (!container) return;\n\nconst parts = [];\nfor (let i = 0; i < nodes.length; i++) {\nconst n = nodes[i];\nparts.push('<div class=\"node\" id=\"node-' + n + '\">' + n + \"</div>\");\nif (i < nodes.length - 1) {\nparts.push('<div class=\"arrow\">\u279C</div>');\n}\n}\ncontainer.innerHTML = parts.join(\"\");\n}\n\nfunction startBroadcastCycle() {\nlet idx = 0;\n\nsetInterval(() => {\nconst allNodes = document.querySelectorAll(\".node\");\nallNodes.forEach((n) => n.classList.remove(\"active\"));\n\nconst activeId = \"node-\" + nodes[idx];\nconst active = document.getElementById(activeId);\nif (active) active.classList.add(\"active\");\n\nidx = (idx + 1) % nodes.length;\n\n}, 1500);\n}\n\n/**\n\n* Initialize the broadcast visualization in a guarded way so it\n* does not re-register intervals or duplicate DOM nodes.\n  */\n  export function initBroadcastVisualization() {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n  return;\n  }\n\nif (window[BROADCAST_GUARD_KEY]) {\nreturn;\n}\nwindow[BROADCAST_GUARD_KEY] = true;\n\nconst run = () => {\nrenderBroadcastNodes();\nstartBroadcastCycle();\n};\n\nif (document.readyState === \"loading\") {\nwindow.addEventListener(\"DOMContentLoaded\", run);\n} else {\nrun();\n}\n}\n\n// Optional: expose for manual debugging in the browser console\nif (typeof window !== \"undefined\") {\nwindow.initBroadcastVisualization = initBroadcastVisualization;\n}\n", "// public/js/ops-status-widget.js\n// Phase 11: minimal pill ID normalizer; all state comes from ops-pill-state.js\n(function () {\n  if (typeof document === \"undefined\") return;\n\n  var existing = document.getElementById(\"ops-dashboard-pill\");\n  if (existing) return;\n\n  var pill = document.querySelector(\"[data-ops-pill]\");\n  if (!pill) return;\n\n  pill.id = \"ops-dashboard-pill\";\n})();\n", "// Lightweight OPS SSE \u2192 global state bridge for Phase 11\n(() => {\n  if (typeof window === \"undefined\" || typeof EventSource === \"undefined\") return;\n\n  // Avoid multiple initializations if bundle is loaded twice\n  if (window.__opsGlobalsBridgeInitialized) return;\n  window.__opsGlobalsBridgeInitialized = true;\n\n  // Initialize globals if they don't exist\n  if (typeof window.lastOpsHeartbeat === \"undefined\") {\n    window.lastOpsHeartbeat = null;\n  }\n  if (typeof window.lastOpsStatusSnapshot === \"undefined\") {\n    window.lastOpsStatusSnapshot = null;\n  }\n\n  const opsUrl = `/events/ops`;\n\n  \n\n  const __DISABLE_OPTIONAL_SSE = (typeof window !== \"undefined\" && window.__DISABLE_OPTIONAL_SSE) === true;\n  if (__DISABLE_OPTIONAL_SSE) {\n    console.warn(\"[ops-globals-bridge] Optional SSE disabled (Phase 16 pending):\", opsUrl);\n    return;\n  }\nconst handleEvent = (event) => {\n    try {\n      const data = JSON.parse(event.data || \"null\");\n      if (!data) return;\n\n      window.lastOpsHeartbeat = Math.floor(Date.now() / 1000);\n      window.lastOpsStatusSnapshot = data;\n    } catch (err) {\n      console.warn(\"[ops-globals-bridge] Failed to parse OPS event:\", err);\n    }\n  };\n\n  try {\n    const es = new EventSource(opsUrl);\n\n    // Default unnamed \"message\" events (if any in future)\n    es.onmessage = handleEvent;\n\n    // Named \"hello\" events from OPS SSE\n    es.addEventListener(\"hello\", handleEvent);\n\n    es.onerror = (err) => {\n      console.warn(\"[ops-globals-bridge] EventSource error:\", err);\n    };\n  } catch (err) {\n    console.warn(\"[ops-globals-bridge] Failed to init EventSource:\", err);\n  }\n})();\n", "// public/js/ops-pill-state.js\n// Phase 11: simple dashboard OPS pill driven by lastOpsHeartbeat.\n// - Creates #ops-dashboard-pill on /dashboard if missing.\n// - Hides any external #ops-status-pill overlay.\n// - Shows \"OPS: Unknown\" / \"OPS: Online\" based on heartbeat.\n\n(function () {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") return;\n  if (window.location.pathname !== \"/dashboard\") return;\n\n  var POLL_INTERVAL_MS = 5000;\n  var PILL_ID = \"ops-dashboard-pill\";\n\n  function ensurePill() {\n    var pill = document.getElementById(PILL_ID);\n    if (pill) return pill;\n\n    // Create the dashboard pill near the top of the body\n    pill = document.createElement(\"span\");\n    pill.id = PILL_ID;\n    pill.className = \"ops-pill ops-pill-unknown\";\n    pill.textContent = \"OPS: Unknown\";\n\n    // Keep styling minimal; main styles come from CSS class\n    pill.style.display = \"inline-block\";\n\n    if (document.body.firstChild) {\n      document.body.insertBefore(pill, document.body.firstChild);\n    } else {\n      document.body.appendChild(pill);\n    }\n\n    return pill;\n  }\n\n  function applyState() {\n    // Always hide any external overlay pill if present\n    var overlay = document.getElementById(\"ops-status-pill\");\n    if (overlay) {\n      overlay.style.display = \"none\";\n    }\n\n    var pill = ensurePill();\n    if (!pill) return;\n\n    var hasHeartbeat = (typeof window.lastOpsHeartbeat === \"number\");\n\n    var label = hasHeartbeat ? \"OPS: Online\"  : \"OPS: Unknown\";\n    var cls   = hasHeartbeat ? \"ops-pill-online\" : \"ops-pill-unknown\";\n\n    pill.classList.remove(\n      \"ops-pill-unknown\",\n      \"ops-pill-online\",\n      \"ops-pill-stale\",\n      \"ops-pill-error\"\n    );\n    pill.classList.add(cls);\n    pill.textContent = label;\n  }\n\n  applyState();\n  setInterval(applyState, POLL_INTERVAL_MS);\n})();\n", "/**\n * Tasks Widget (stable, no SSE)\n * - GET /api/tasks\n * - POST /api/complete-task\n * - No optimistic removal (prevents list blinking)\n */\n(() => {\n  const API = {\n    list: \"/api/tasks\",\n    complete: \"/api/complete-task\",\n  };\n\n  const SELECTORS = [\n    \"#tasks-widget\",\n    \"#tasksWidget\",\n    \"[data-tasks-widget]\",\n    \"[data-widget='tasks']\",\n  ];\n\n  const state = {\n    tasks: [],\n    loading: false,\n    lastError: null,\n    inflightComplete: new Set(),\n  };\n\n  function $(sel, root = document) {\n    return root.querySelector(sel);\n  }\n\n  function findMount() {\n    for (const sel of SELECTORS) {\n      const el = $(sel);\n      if (el) return el;\n    }\n    return null;\n  }\n\n  function esc(s) {\n    return String(s ?? \"\")\n      .replaceAll(\"&\", \"&amp;\")\n      .replaceAll(\"<\", \"&lt;\")\n      .replaceAll(\">\", \"&gt;\")\n      .replaceAll('\"', \"&quot;\")\n      .replaceAll(\"'\", \"&#39;\");\n  }\n\n  async function apiJson(url, opts = {}) {\n    const res = await fetch(url, {\n      method: opts.method || \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: opts.body ? JSON.stringify(opts.body) : undefined,\n    });\n    const json = await res.json();\n    if (!res.ok) throw new Error(json?.error || \"Request failed\");\n    return json;\n  }\n\n  async function fetchTasks() {\n    state.loading = true;\n    render();\n    try {\n      const data = await apiJson(API.list);\n      state.tasks = (data.tasks || []).map(t => ({\n        id: String(t.id),\n        title: t.title || \"\",\n        status: t.status || \"\",\n      }));\n    } catch (e) {\n      state.lastError = e.message;\n    } finally {\n      state.loading = false;\n      render();\n    }\n  }\n\n  async function completeTask(taskId) {\n    if (state.inflightComplete.has(taskId)) return;\n    state.inflightComplete.add(taskId);\n    render();\n\n    try {\n      await apiJson(API.complete, {\n        method: \"POST\",\n        body: { taskId },\n      });\n    } catch (e) {\n      state.lastError = e.message;\n    } finally {\n      state.inflightComplete.delete(taskId);\n      await fetchTasks();\n    }\n  }\n\n  function render() {\n    const mount = findMount();\n    if (!mount) return;\n\n    mount.innerHTML = `\n      <div>\n        \n        ${state.lastError ? `<div style=\"color:red\">${esc(state.lastError)}</div>` : \"\"}\n        <div>\n          ${state.tasks.map(t => `\n            <div style=\"display:flex;justify-content:space-between;gap:8px\">\n              <span>${esc(t.title)}</span>\n              ${\n                t.status === \"complete\"\n                  ? `<span style=\"opacity:.5;font-size:12px\">Completed</span>`\n                  : `<button data-id=\"${t.id}\">Complete</button>`\n              }\n            </div>\n          `).join(\"\")}\n        </div>\n      </div>\n    `;\n\n    mount.querySelectorAll(\"button[data-id]\").forEach(btn => {\n      btn.onclick = () => completeTask(btn.dataset.id);\n    });\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", fetchTasks);\n\n  // Auto-refresh (no SSE): keep widget feeling live\n  setInterval(() => { fetchTasks(); }, 5000);\n\n})();\n", "(function () {\n  function log(msg) {\n    console.log(\"[matilda-chat]\", msg);\n  }\n\n  function appendMessage(transcriptEl, sender, text) {\n    if (!transcriptEl) return;\n    var line = document.createElement(\"p\");\n    line.className = \"mb-1 text-sm\";\n    var label = sender ? sender + \": \" : \"\";\n    line.textContent = label + text;\n    transcriptEl.appendChild(line);\n    transcriptEl.scrollTop = transcriptEl.scrollHeight;\n  }\n\n  function setSendingState(sendBtn, input, isSending) {\n    if (sendBtn) {\n      sendBtn.disabled = isSending;\n      sendBtn.classList.toggle(\"opacity-60\", isSending);\n      sendBtn.textContent = isSending ? \"Sending...\" : \"Send\";\n    }\n    if (input) {\n      input.disabled = isSending;\n    }\n  }\n\n  async function wireChat() {\n    var root = document.getElementById(\"matilda-chat-root\");\n    if (!root) {\n      log(\"No #matilda-chat-root found; skipping wiring.\");\n      return;\n    }\n\n    var transcript = document.getElementById(\"matilda-chat-transcript\");\n    var input = document.getElementById(\"matilda-chat-input\");\n    var sendBtn = document.getElementById(\"matilda-chat-send\");\n\n    if (!transcript || !input || !sendBtn) {\n      log(\"Missing one or more Matilda chat elements; aborting wiring.\");\n      return;\n    }\n\n    function safeTrim(value) {\n      return (value || \"\").toString().trim();\n    }\n\n    async function handleSend() {\n      var message = safeTrim(input.value);\n      if (!message) return;\n\n      appendMessage(transcript, \"You\", message);\n      input.value = \"\";\n      setSendingState(sendBtn, input, true);\n\n      try {\n        var res = await fetch(\"/api/chat\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ message: message, agent: \"matilda\" }),\n        });\n\n        if (!res.ok) {\n          appendMessage(\n            transcript,\n            \"Matilda\",\n            \"(error talking to /api/chat)\"\n          );\n          return;\n        }\n\n        var data = await res.json();\n        var reply =\n          (data && (data.reply || data.message || data.response)) ||\n          \"(no reply)\";\n        appendMessage(transcript, \"Matilda\", reply);\n      } catch (err) {\n        console.error(err);\n        appendMessage(transcript, \"Matilda\", \"(network error)\");\n      } finally {\n        setSendingState(sendBtn, input, false);\n      }\n    }\n\n    sendBtn.addEventListener(\"click\", handleSend);\n\n    var quickBtn = document.getElementById(\"matilda-chat-quick-check\");\n    if (quickBtn) {\n      quickBtn.addEventListener(\"click\", function () {\n        input.value = \"Quick systems check from dashboard Phase 11.4.\";\n        handleSend();\n      });\n    }\n\n    input.addEventListener(\"keydown\", function (e) {\n      if (e.key === \"Enter\" && !e.shiftKey) {\n        e.preventDefault();\n        handleSend();\n      }\n    });\n\n    log(\"Matilda chat wiring complete.\");\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", wireChat);\n})();\n", "import \"./sse-heartbeat-shim.js\";\nimport \"./heartbeat-stale-indicator.js\";\n// Phase 11 \u2013 Unified dashboard bundle entrypoint\n\n// Core dashboard status + tiles\nimport \"./dashboard-status.js\";\n\n// Phase 15/16 boundary: disable optional SSE (OPS + Reflections) until backends exist\nif (typeof window !== \"undefined\" && typeof window.__DISABLE_OPTIONAL_SSE === \"undefined\") {\n  window.__DISABLE_OPTIONAL_SSE = false;\n}\n\nimport \"./agent-status-row.js\";\n\n// OPS / PM2 status + SSE wiring\nimport \"./dashboard-broadcast.js\";\nimport \"./ops-status-widget.js\";\nimport \"./ops-globals-bridge.js\";\nimport \"./ops-pill-state.js\";\nimport \"./dashboard-tasks-widget.js\";\n\n// Matilda chat console wiring\nimport \"./matilda-chat-console.js\";\n\n// TEMP: dashboard graph disabled until canvas is present on all pages\n// import \"./dashboard-graph.js\";\n"],
  "mappings": "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",
  "names": []
}
